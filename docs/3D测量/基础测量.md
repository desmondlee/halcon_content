# 基础测量

## 准备工作

1. 调整相机的帧率、曝光时间、增益、ROI等参数，使实际帧率达到200以上；

2. 调整相机轴臂移动速度、触发模式(开)，使的X轴每移动指定距离(如5mm)时，相机的拍照图像张数基本固定(多次测量前后数量相差3张以内)。

## X方向分辨率(像素当量)

指的是X轴方向(激光线指示方向)，每个像素代表的实际距离(一般单位是mm，或um)

### 测量方法

1. 用相机拍摄一段尺子(如10mm)；
2. 在Halcon中使用测量助手 打开照片；
3. 通过画直线，调整最小边缘幅度、平滑等参数，得出图像中某一长度(如10mm)对应的像素个数；
4. X方向分辨率 = 物理距离 / 像素个数，单位 mm/pixel

## Y方向分辨率(像素当量)

指的是Y轴方向(物体运动方向)，每次拍照代表的实际距离(一般单位是mm，或um)，与拍照频率(帧率)有关。

### 测量方法

1. 相机开启触发模式；
2. 让相机轴臂低速(保证帧率)移动指定距离(如5mm)，记录照片张数；
3. Y方向分辨率 =  移动距离 / 照片张数，单位 mm/pixel 

## Z方向分辨率

物体实际高度 / 激光扫描出的高度



## 片光法获取3D图像的流程

### 采集一系列图像并保存

1. 总轮廓数量 = 扫描物体长度 / Y方向分辨率
2. 分频倍率 = X方向分辨率 / Y方向分辨率，然后取整
3. 有效轮廓数量(保存照片张数) = 总轮廓数量 / 分频倍率
4. 使用[该halcon程序](http://qn.halcon.lizhenguo.cn/file/%E6%89%B9%E9%87%8F%E4%BF%9D%E5%AD%98%E5%9B%BE%E5%83%8Fv1.1.hdev)保存一系列激光图像。

### 算子介绍

按操作顺序：

1. create_sheet_of_light_model
2. measure_profile_sheet_of_light
3. get_sheet_of_light_result
4. write_sheet_of_light_model
5. read_sheet_of_light_model
6. reset_sheet_of_light_model  (此处只是复位内存，不是参数信息)
7. clear_all_sheet_of_light_models

其他算子：clear_sheet_of_light_model, set_sheet_of_light_param

> 建模时用到的是：1，2，3，4，6；运行时：2，3，5，6，7