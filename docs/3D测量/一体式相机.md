# 一体式相机

以SSZN一体式相机为例

## sszn相机相关设置

1. 光量控制改为手动时，设置的曝光时间才会有效。（自动模式时，手动设置的曝光时间可能会无效）
2. 感光特性调节的是**曝光时间**；峰值检测灵敏度，指的是对比度，调节的是**阈值**。
3. 默认密码：sszn
4. license要注册

## 关键词参考

1. 批处理点数：脉冲数量，即拍照张数，或设定一次测量进行处理的**轮廓数量**；

2. 3D显示间距：Y轴像素分辨率，用于显示点云图，一般设置成跟X轴像素分辨率相同（X轴像素分辨率可以查相机手册）； 

   > 第2点备注，此处设置的Y轴像素分辨率，仅用于显示点云图时采用的参考值，不是实际调整出来的Y轴像素分辨率。

3. 细化点数（即 触发间隔，或**分频倍率**），计算公式：X分辨率 / Y分辨率，取整；

4. 3D显示间距 = 细化点数 * 脉冲当量；<u>？？？有疑问？？？</u>

5. 扫描的物理实际距离 = 批处理点数 * 3D显示间距 ，单位mm；



## 使用流程

1. 轮廓线校正：水平校正(可通过**校正**按钮自动校正，也可以通过选择两个区域拟合直线的方式手动校正)，高度校正（通过调整Z轴高度手动校正）；

2. 查相机手册，获得X轴分辨率(即像素当量，或X轴数据间隔)；

3. 借助刻度尺，halcon测量助手，得出Y轴分辨率。Y轴分辨率 = 物理长度 / 像素数。尽量让Y轴分辨率接近于X轴分辨率。（调整触发方式，和触发间隔）

4. 借助标准块(高度精准)，得出Z轴分辨率。Z轴分辨率 = 标准块高度 / 轮廓高度(高度方向的像素数)，用于计算测量物体的实际高度。

5. 预估实际测量物体的长度(Y轴，即运动平台移动方向的长度)，计算出**批处理点数**（即轮廓数量，或相机拍照张数）

   > 第5点备注，设置时，尽量将数值设置的稍微大些，防止因某些误差导致测量长度不够，移动指定长度时，因轮廓数量不够无法出图。

6. 扫描实际物体，通过调整传感头测量范围、曝光时间、光亮控制、峰值灵敏度等，尽量让图像上显示完整，无缺漏(黑斑)。

   >  第6点备注，光亮控制部分，尽量设置为手动，上下限值相同，保证稳定光亮；



## 常见计算内容

1. 计算高度差

2. 计算体积

3. 计算平面度

4. OCR识别等

   > 具体参考《相关计算》一文