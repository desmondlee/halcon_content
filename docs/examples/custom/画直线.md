---
title: "画直线"
date: 2021-01-03T15:01:33+08:00
draft: true
---

## 函数名

custom_gen_line(:Line:Row, Col, Angle, Length, RegionOrXld:)

> 注释，
>
> 输出参数，Line
>
> 输入参数，
>
> Row: 起始点Y坐标；Col: 七十点X坐标；Angle: 角度；Length: 直线的长度；RegionOrXld: 结果类型，可选值有region, xld



## 函数体

```
dev_update_off ()
if(Length < 1)
    return ()
endif

if(RegionOrXld == 'region')
    gen_region_line (LineTemp, 0, 0, 0, Length-1)
else
    gen_contour_polygon_xld (LineTemp, [0,0], [0, Length-1])
endif

* 求仿射变换矩阵
vector_angle_to_rigid (0,0,0, Row, Col, Angle, HomMat2D)
if(RegionOrXld == 'region')
    
    affine_trans_region (LineTemp, Line, HomMat2D, 'false')
else
    
    affine_trans_contour_xld (LineTemp, Line, HomMat2D)
endif
dev_update_on ()
return ()
```

## 调用

```
read_image (Image, 'fabrik')
custom_gen_line (Line, 100, 100, rad(-45), 100, 'region')

custom_gen_line (Line1, 200, 200, rad(-45), 100, 'xld')
```

[示例下载](http://qn.halcon.lizhenguo.cn/file/line.zip)