# 借助灰度直方图创建threshold代码

发音：`ˈθreʃhəʊld`

**阈值** (不是_阀值_)又叫[临界值](https://baike.baidu.com/item/临界值/9322537)，是指一个效应能够产生的最低值或最高值。此一名词广泛用于各方面，包括[建筑学](https://baike.baidu.com/item/建筑学/228287)、生物学、飞行、化学、电信、电学、心理学等，如[生态阈值](https://baike.baidu.com/item/生态阈值/10986797)。（[摘自百度百科](https://baike.baidu.com/item/%E9%98%88%E5%80%BC/7442398)）

### 前提

需要将通过read_image读取图像得到的Image类型变量作为参数。



### 使用方式

1. 通过read_image 读取图像；
2. 打开灰度直方图，并勾选 **阈值**选项；
3. 调整绿线和红线，勾勒出目标物；
4. 点击**插入代码**。



## 提醒

若无法勾选**阈值**选项，看下阈值行的**通道** 是不是RGB，若是，选择某一具体值，这时**阈值**选项即可勾选了。

### 参考图

![灰度直方图](http://qn.halcon.lizhenguo.cn/image/%E7%81%B0%E5%BA%A6%E7%9B%B4%E6%96%B9%E5%9B%BE1.png)



## 使用代码获取灰度直方图

```
* 读取图像
read_image(Image, 'clip')
* 产生直方图
gray_histo (Image, Image, AbsoluteHisto, RelativeHisto)
* 产生直方图区域
gen_region_histo (Region, AbsoluteHisto, 255, 255, 1)
* 根据直方图求分割阈值
histo_to_thresh (AbsoluteHisto, 2, MinThresh, MaxThresh)
* 阈值分割
threshold (Image, Region1, MinThresh, MaxThresh)
```

